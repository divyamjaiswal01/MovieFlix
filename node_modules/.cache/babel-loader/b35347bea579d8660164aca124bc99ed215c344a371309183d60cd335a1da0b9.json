{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from 'react';\nimport { FirebaseContext } from '../context/firebase';\nexport default function useAuthListener() {\n  _s();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('authUser')));\n  const {\n    firebase\n  } = useContext(FirebaseContext);\n  useEffect(() => {\n    const listener = firebase.auth().onAuthStateChanged(authUser => {\n      if (authUser) {\n        localStorage.setItem('authUser', JSON.stringify(authUser));\n        setUser(authUser);\n      } else {\n        localStorage.removeItem('authUser');\n        setUser(null);\n      }\n    });\n    return () => listener();\n  }, []);\n  return {\n    user\n  };\n}\n_s(useAuthListener, \"og5KOqGEvEXX6clV2sRD6qnxvZ4=\");","map":{"version":3,"names":["useState","useEffect","useContext","FirebaseContext","useAuthListener","_s","user","setUser","JSON","parse","localStorage","getItem","firebase","listener","auth","onAuthStateChanged","authUser","setItem","stringify","removeItem"],"sources":["/Users/divyamjaiswal/Desktop/MovieStreaming/src/hooks/use-auth-listener.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { FirebaseContext } from '../context/firebase';\n\nexport default function useAuthListener() {\n    \n\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('authUser')));\n    const { firebase } = useContext(FirebaseContext);\n    \n    useEffect(() => {\n        const listener = firebase.auth().onAuthStateChanged((authUser) => {\n            if (authUser) {\n                localStorage.setItem('authUser', JSON.stringify(authUser));\n                setUser(authUser);\n            } else {\n                localStorage.removeItem('authUser');\n                setUser(null);\n            }\n        });\n\n        return () => listener();\n    }, []);\n\n    return { user };\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,eAAe,QAAQ,qBAAqB;AAErD,eAAe,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EAGtC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAACQ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;EAC9E,MAAM;IAAEC;EAAS,CAAC,GAAGV,UAAU,CAACC,eAAe,CAAC;EAEhDF,SAAS,CAAC,MAAM;IACZ,MAAMY,QAAQ,GAAGD,QAAQ,CAACE,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAEC,QAAQ,IAAK;MAC9D,IAAIA,QAAQ,EAAE;QACVN,YAAY,CAACO,OAAO,CAAC,UAAU,EAAET,IAAI,CAACU,SAAS,CAACF,QAAQ,CAAC,CAAC;QAC1DT,OAAO,CAACS,QAAQ,CAAC;MACrB,CAAC,MAAM;QACHN,YAAY,CAACS,UAAU,CAAC,UAAU,CAAC;QACnCZ,OAAO,CAAC,IAAI,CAAC;MACjB;IACJ,CAAC,CAAC;IAEF,OAAO,MAAMM,QAAQ,CAAC,CAAC;EAC3B,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEP;EAAK,CAAC;AACnB;AAACD,EAAA,CArBuBD,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}